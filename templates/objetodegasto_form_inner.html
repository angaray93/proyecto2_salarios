<div id="form-modal-body" class="modal-body">
    <form id="og_form" class="form-horizontal" method="post" action="{% url 'liquidacion:objetodegasto-add' %}">
        {% csrf_token %}
        {{ form.as_p }}
    </form>
    <button type="submit" id="submitForm" class="btn btn-default">Guardar</button>
    <button id="closeButton" type="button" class="btn btn-default" data-dismiss="modal" value="Cerrar">Cerrar</button>
</div>

<script>
    $(document).ready(function () {
        $('#og_form').on("submit", function(e) {
            e.preventDefault();
            $.ajax({
             type: $(this).attr('method'),
              url: $(this).attr('action'),
             data: $(this).serialize(),
             success: function (xhr, ajaxOptions, thrownError) {
                 if ( $(xhr).find('.errorlist').length > 0 ) {
                    $('#og_modal').find('.modal-body').html(xhr);
                } else {
                     $('#og_modal').find('.modal-body').html('Data saved successfully!');
                }
            },
              error: function (xhr, ajaxOptions, thrownError) {
                 console.log('Entra al else');
                 // handle response errors here
            }
        });
    });

    $("#submitForm").on('click', function() {
		$("#og_form").submit();
	});
 });
</script>
